sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/layout/form/SimpleForm"],function(e,t,a){"use strict";return e.extend("auths.controller.GroupDetail",{onInit:function(){sessionStorage.setItem("goToLaunchpad","");var e=this.getOwnerComponent().getRouter();e.attachRouteMatched(this.onRouteMatched,this);this.getRouter().getRoute("GroupDetail").attachPatternMatched(this._onObjectMatched,this);document.addEventListener("keydown",this.handleF8Pressed.bind(this))},handleF8Pressed:function(e){if(e.which===119){var t=this;t.onSaveChanges()}},onAfterRendering:function(){var e=this;sessionStorage.setItem("goToLaunchpad","");window.addEventListener("message",function(t){var a=t.data;if(a.action=="goToMainPage"){e.onNavBack()}})},onRouteMatched:function(){var e=new t({editable:false,createMethod:false});this.getView().setModel(e,"GroupDetail");this.byId("inAppHeader").setValue("");this.byId("inAppSubHeader").setValue("");this.byId("btCreateUpdate").setText("Save")},onNavBack:function(){sessionStorage.setItem("goToLaunchpad","X");this.getRouter().navTo("RouteMain")},_onObjectMatched:function(e){var t="/xTQAxLAUNCHPAD_GROUP_VH"+e.getParameter("arguments").objectId;this._bindView(t)},_bindView:function(e){this.getModel("GroupDetail").setProperty("/sPath",e);this.getModel("GroupDetail").setProperty("/editable",false);var t=this.getModel("GroupDetail");if(e!="/xTQAxLAUNCHPAD_GROUP_VH('000')"){this.getView().bindElement({path:e,events:{dataRequested:function(){t.setProperty("/busy",true)},dataReceived:function(e){t.setProperty("/busy",false)}}})}else{this.onCreateMethod()}},onCreateMethod:function(){this.byId("MainPage").setTitle("Criar Aplicação");this.getModel("GroupDetail").setProperty("/editable",true);this.byId("btChange").setProperty("visible",false);this.byId("btCreateUpdate").setText("Create");this.getModel("GroupDetail").setProperty("/createMethod",true)},onTranslateGroup:function(){var e=this.byId("RequestTableGroupLanguage"),t=e.getSelectedItem().getCells(),s=t[0].getText(),i=t[1].getText(),o=t[2].getText();if(!this.oResizableDialog){var n=new a({layout:"ResponsiveGridLayout",content:[new sap.m.Label({text:"{i18n>AppLangu}"}),new sap.m.Input({id:"inGroupId",enabled:false,layoutData:new sap.m.FlexItemData({styleClass:"sapUiSmallMarginBottom"}),required:true}),new sap.m.Label({text:"{i18n>AppHeader}"}),new sap.m.Input({id:"inGroupHeader",layoutData:new sap.m.FlexItemData({styleClass:"sapUiSmallMarginBottom"}),required:true})]});var r=new sap.m.Button({text:"{i18n>Save}",press:function(){var e=true,t=this.getModel(),a=this.byId("RequestTableGroupLanguage"),s=a.getSelectedContexts()[0].sPath;n.getContent().forEach(function(t){if(t instanceof sap.m.Input){if(t.getRequired()&&!t.getValue()){e=false;t.setValueState("Error");return false}else{t.setValueState("None")}}});if(e){var i={},o=this;i.GrpTitle=sap.ui.getCore().byId("inGroupHeader").getValue();t.update(s,i,{success:function(){sap.m.MessageBox.success(o.getResourceBundle().getText("translatesucess"));t.refresh(true)}});this.oResizableDialog.close();this.oResizableDialog.destroy();this.oResizableDialog.destroy();this.oResizableDialog=null}}.bind(this)});var l=new sap.m.Button({text:"{i18n>close}",press:function(){this.oResizableDialog.close();this.oResizableDialog.destroy();this.oResizableDialog.destroy();this.oResizableDialog=null}.bind(this)});this.oResizableDialog=new sap.m.Dialog({title:"{i18n>Translate}",contentWidth:"440px",contentHeight:"430px",resizable:true,content:[n],buttons:[r,l]});if(this.oResizableDialog){var u=sap.ui.getCore().byId("inGroupId"),d=sap.ui.getCore().byId("inGroupHeader");u.setValue(i);d.setValue(o)}this.getView().addDependent(this.oResizableDialog)}this.oResizableDialog.open()}})});
//# sourceMappingURL=GroupDetail.controller.js.map