sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return e.extend("auths.controller.Main",{onInit:function(){var e=new t;this.getView().setModel(e,"Main")},onOpenPressed:function(e){var t=e.getSource().getBindingContext().getPath();this.getModel("global").setProperty("/create",false);this.getRouter().navTo("Detail",{objectId:t.substring("/AuthorizationsHeader".length)});debugger},onAddRole:function(){var e=this;var t=new sap.m.Dialog({type:sap.m.DialogType.Message,title:this.getView().getModel("i18n").getResourceBundle().getText("CreateNewRole"),content:[new sap.m.Label({text:this.getView().getModel("i18n").getResourceBundle().getText("RoleName")}).addStyleClass("dialog-label"),new sap.m.Input({width:"100%"}).addStyleClass("dialog-input")],buttons:[new sap.m.Button({text:this.getView().getModel("i18n").getResourceBundle().getText("Create"),press:function(){var o=t.getContent()[1].getValue();e.getModel("global").setProperty("/newRole",o);e.getModel("global").setProperty("/create","true");t.close();var n="/AuthorizationsHeader('999')";e.getRouter().navTo("Detail",{objectId:n.substring("/AuthorizationsHeader".length)})}}),new sap.m.Button({text:this.getView().getModel("i18n").getResourceBundle().getText("Cancel"),press:function(){t.close()}})],afterClose:function(){t.destroy()}});t.open()},onChangeStatus:function(){debugger;var e=this;var t=this.byId("requestTable");var o=t.getSelectedContextPaths()[0];var n=this.getModel();var s=n.getObject(o);delete s.__metadata;s.UsrStatus="change";n.update(o,s,{success:function(t){e.getModel().refresh(true);sap.m.MessageBox.success("Utilizador Atualizado")},error:function(e){}})},onRequestTablePress:function(e){var t=e.getSource().getBindingContextPath();this.getRouter().navTo("UserDetail",{objectId:t.substring("/xTQAxUSR01_DD".length)})},onChangeSelection:function(e){this.byId("btUnlocked").setProperty("icon","sap-icon://locked");var t=e.oSource.getSelectedContextPaths();var o=true;t.forEach(e=>{var t=this.getModel().getObject(e);if(t.UsrStatus!="Blocked")o=false});if(o){this.byId("btUnlocked").setProperty("icon","sap-icon://unlocked");this.byId("btUnlocked").setProperty("enabled",true)}else{this.byId("btUnlocked").setProperty("icon","sap-icon://locked");this.byId("btUnlocked").setProperty("enabled",true)}}})});
//# sourceMappingURL=Main.controller.js.map